<div class="text-2xl font-semibold my-8">
    <p>{{"Feedback" | titlecase}}</p>
</div>

@if(!submitSuccess){
<form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()">
    <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2" for="category">
            Category
        </label>
        <select formControlName="category" id="category"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="General">General</option>
            <option value="Bug">Bug Report</option>
            <option value="Feature">Feature Request</option>
            <option value="Question">Question</option>
        </select>
    </div>

    <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2" for="content">
            Your Feedback
        </label>
        <textarea formControlName="content" id="content" rows="4"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="Please share your thoughts..."></textarea>
        @if(feedbackForm.get('content')?.invalid && feedbackForm.get('content')?.touched){
        <div class="text-red-500 text-sm mt-1">
            Feedback must be at least 10 characters long.
        </div>
        }
    </div>

    <button type="submit" [disabled]="feedbackForm.invalid || isSubmitting"
        class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50">
        {{ isSubmitting ? 'Submitting...' : 'Submit Feedback' }}
    </button>

    @if(submitError){
    <div class="mt-4 p-3 bg-red-100 text-red-700 rounded">
        {{ submitError }}
    </div>
    }
</form>
}

@if(submitSuccess){
<div class="text-center p-6">
    <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <h3 class="text-xl font-bold text-gray-800">Thank You!</h3>
    <p class="text-gray-600 mb-4">Your feedback has been submitted successfully.</p>
    <button (click)="submitSuccess = false"
        class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
        Submit Another
    </button>
</div>
}